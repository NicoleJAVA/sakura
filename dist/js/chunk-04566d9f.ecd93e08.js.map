{"version":3,"sources":["webpack:///./src/views/UserCart.vue?d230","webpack:///./src/components/GappedDialog.vue?1cc5","webpack:///./src/views/UserCart.vue","webpack:///./src/components/GappedDialog.vue","webpack:///./src/components/GappedDialog.vue?903a","webpack:///./src/views/UserCart.vue?159a"],"names":["class","style","colspan","href","role","active","isLoading","cart","carts","item","key","id","product","title","alt","src","imageUrl","price","origin_price","$filters","currency","qty","disabled","updateCart","type","status","loadingItem","removeCartItem","total","final_total","coupon_code","placeholder","addCouponCode","goToForm","coupon","min","unit","products","getProduct","addToCart","name","data","render","__scopeId","inject","components","GappedDialog","methods","quantity","api","this","$api","product_id","$http","put","then","response","isApiSuccess","getCart","catch","error","console","post","pushMessage","err","code","delete","getProducts","get","log","$router","push","created"],"mappings":"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","file":"js/chunk-04566d9f.ecd93e08.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserCart.vue?vue&type=style&index=0&id=4179bebc&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GappedDialog.vue?vue&type=style&index=0&id=506bf9b2&scoped=true&lang=scss\"","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"container container-custom-width\">\n    <div class=\"row mt-4\">\n      <ul class=\"col-md-12 col-lg-7\">\n        <li v-for=\"item in cart.carts\" class=\"mb-4\" :key=\"item.id\">\n          <!-- product title -->\n          <div>\n            <div class=\"break-line-10 text-primary\">\n              {{ item.product.title }}\n            </div>\n          </div>\n\n          <!-- container of cart detail columns  -->\n          <div class=\"row align-items-center\">\n            <!-- column of product image -->\n            <div class=\"col\">\n              <div class=\"ratio-wrap\" style=\"--w: 276; --h: 230;\">\n                <img\n                  class=\"ratio\"\n                  alt=\"image of the product\"\n                  :src=\"item.product.imageUrl\"\n                />\n              </div>\n            </div>\n\n            <!-- column of product price -->\n            <div class=\"col\">\n              <div\n                v-if=\"item.product.price !== item.product.origin_price\"\n                class=\"fs-6 fw-300 text-center\"\n              >\n                <div class=\"d-inline-block label-2 py-1 me-2 mb-3 text-primary\">\n                  原價\n                </div>\n                <div\n                  class=\"d-inline-block label-4\n                    text-decoration-line-through text-deleted\"\n                >\n                  $ {{ $filters.currency(item.product.origin_price) }}\n                </div>\n              </div>\n\n              <div class=\"fs-6 fw-300 text-subtitle text-center\">\n                <div\n                  class=\"d-inline-block label-2 py-1 me-2 mb-3\n                border border-primary text-primary\"\n                >\n                  特價\n                </div>\n                <div class=\"d-inline-block label-4\">\n                  $ {{ $filters.currency(item.product.price) }}\n                </div>\n              </div>\n            </div>\n\n            <!-- column of quantity -->\n            <div class=\"col\">\n              <div class=\"row\">\n                <div\n                  class=\"col flex-shrink-1 quantity-wrap\n                    d-flex flex-column align-items-center\"\n                >\n                  <div class=\"cart-item-num text-center mb-3\">\n                    {{ item.qty }}\n                  </div>\n\n                  <span class=\"mx-auto d-flex flex-nowrap\">\n                    <button\n                      class=\"left-rounded fs-6 fw-light line-height-1\n                        btn btn-outline-primary py-0 px-0 btn-link\"\n                      :disabled=\"item.qty <= 1\"\n                      @click=\"updateCart(item, item.qty - 1)\"\n                    >\n                      <i class=\"bi bi-dash\"></i>\n                    </button>\n                    <button\n                      class=\"right-rounded fs-6 fw-light line-height-1\n                      btn btn-outline-primary py-0 px-0 btn-link\"\n                      @click=\"updateCart(item, item.qty + 1)\"\n                    >\n                      <i class=\"bi bi-plus\"></i>\n                    </button>\n                  </span>\n                </div>\n\n                <div class=\"col d-flex justify-content-center\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-link fs-5\"\n                    :disabled=\"status.loadingItem === item.id\"\n                    @click=\"removeCartItem(item.id)\"\n                  >\n                    <i class=\"bi bi-trash\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <!-- column of subtotal -->\n            <div class=\"col\">\n              <div class=\"fs-6 fw-300 text-subtitle text-center\">\n                <div\n                  class=\"d-inline-block label-3 py-1 me-2 mb-3\n                border border-primary text-primary\"\n                >\n                  小計\n                </div>\n                <div class=\"d-inline-block label-4\">\n                  $ {{ $filters.currency(item.total) }}\n                </div>\n              </div>\n\n              <div class=\"fs-6 fw-300 text-subtitle text-center\">\n                <div\n                  class=\"d-inline-block label-3 py-1 me-2 mb-2\n                bg-primary text-white\"\n                >\n                  折扣價\n                </div>\n                <div class=\"d-inline-block label-4\">\n                  $ {{ $filters.currency(item.final_total) }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n\n      <div class=\"col-md-12 col-lg-5\">\n        <div class=\"bg-section h-100 ms-5 pt-6\">\n          <GappedDialog class=\"mx-auto mb-6\" />\n\n          <div class=\"row mb-4\">\n            <div class=\"col-1\"></div>\n            <div class=\"col-5 d-flex\">\n              <div class=\"text-white bg-label label-4 py-2 px-2\">總計</div>\n            </div>\n            <div\n              class=\"col-5 text-secondary align-middle d-flex\n                align-items-center flex-row-reverse\"\n            >\n              {{ $filters.currency(cart.total) }}\n            </div>\n          </div>\n\n          <div class=\"row mb-4\">\n            <div class=\"col-1\"></div>\n            <div class=\"col-5 d-flex\">\n              <div class=\"text-white bg-label label-4 py-2 px-2\">折扣價</div>\n            </div>\n            <div\n              class=\"col-5 text-secondary align-middle d-flex\n                align-items-center flex-row-reverse\"\n            >\n              {{ $filters.currency(cart.final_total) }}\n            </div>\n          </div>\n\n          <div class=\"row mb-5\">\n            <div class=\"col-1\"></div>\n            <div class=\"col-7 col-lg-5\">\n              <input\n                type=\"text\"\n                class=\"border border-primary rounded-6 w-100 py-2 px-2 text-secondary\"\n                v-model=\"coupon_code\"\n                placeholder=\"請輸入優惠碼\"\n              />\n            </div>\n\n            <div class=\"col-3 col-lg-5 d-flex flex-row-reverse\">\n              <button\n                class=\"btn btn-secondary text-white w-100\"\n                type=\"button\"\n                @click=\"addCouponCode\"\n              >\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n          <!-- end of the coupon row -->\n          <div class=\"row mb-5 justify-content-center\">\n            <button\n              class=\"btn btn-secondary text-white circle-2 bounce-anim\n            rounded-circle d-flex align-items-center justify-content-center\"\n              @click=\"goToForm\"\n            >\n              結帳\n            </button>\n          </div>\n        </div>\n        <!-- end of the summary section -->\n      </div>\n    </div>\n\n    <div class=\"row mt-4\">\n      <div class=\"col-md-5\">\n        <div class=\"\">\n          <table class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th></th>\n                <th>品名</th>\n                <th style=\"width: 150px\">數量</th>\n                <th>單價</th>\n              </tr>\n            </thead>\n            <tbody>\n              <template v-if=\"cart.carts\">\n                <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                  <td>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-danger btn-sm\"\n                      :disabled=\"status.loadingItem === item.id\"\n                      @click=\"removeCartItem(item.id)\"\n                    >\n                      <i class=\"bi bi-x\"></i>\n                    </button>\n                  </td>\n                  <td>\n                    {{ item.product.title }}\n                    <div class=\"text-success\" v-if=\"item.coupon\">\n                      已套用優惠券\n                    </div>\n                  </td>\n                  <td>\n                    <div class=\"input-group input-group-sm\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control\"\n                        :disabled=\"status.loadingItem === item.id\"\n                        @change=\"updateCart(item, item.qty)\"\n                        min=\"1\"\n                        v-model.number=\"item.qty\"\n                      />\n                      <div class=\"input-group-text\">\n                        / {{ item.product.unit }}\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"text-end\">\n                    <small\n                      v-if=\"cart.final_total !== cart.total\"\n                      class=\"text-success\"\n                      >折扣價：</small\n                    >\n                    {{ $filters.currency(item.final_total) }}\n                  </td>\n                </tr>\n              </template>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan=\"3\" class=\"text-end\">總計</td>\n                <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n              </tr>\n              <tr v-if=\"cart.final_total !== cart.total\">\n                <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                <td class=\"text-end text-success\">\n                  {{ $filters.currency(cart.final_total) }}\n                </td>\n              </tr>\n            </tfoot>\n          </table>\n          <div class=\"input-group mb-3 input-group-sm\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              v-model=\"coupon_code\"\n              placeholder=\"請輸入優惠碼\"\n            />\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn btn-outline-secondary\"\n                type=\"button\"\n                @click=\"addCouponCode\"\n              >\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"\">\n      <div class=\"\">\n        <div class=\"btn btn-primary\" @click=\"goToForm\">前往結帳</div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-7\">\n        <table class=\"table align-middle\">\n          <thead>\n            <tr>\n              <th>圖片</th>\n              <th>商品名稱</th>\n              <th>價格</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in products\" :key=\"item.id\">\n              <td style=\"width: 200px\">\n                <div\n                  style=\"height: 100px; background-size: cover; background-position: center\"\n                  :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n                ></div>\n              </td>\n              <td>\n                <a href=\"#\" class=\"text-dark\">{{ item.title }}</a>\n              </td>\n              <td>\n                <div class=\"h5\" v-if=\"!item.price\">\n                  {{ item.origin_price }} 元\n                </div>\n                <del class=\"h6\" v-if=\"item.price\"\n                  >原價 {{ item.origin_price }} 元</del\n                >\n                <div class=\"h5\" v-if=\"item.price\">\n                  現在只要 {{ item.price }} 元\n                </div>\n              </td>\n              <td>\n                <div class=\"btn-group btn-group-sm\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary\"\n                    @click=\"getProduct(item.id)\"\n                  >\n                    查看更多\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger position-relative\"\n                    :disabled=\"status.loadingItem === item.id\"\n                    @click=\"addToCart(item.id)\"\n                  >\n                    <div :class=\"{ invisible: status.loadingItem === item.id }\">\n                      加到購物車\n                    </div>\n                    <div\n                      class=\"position-absolute w-100\"\n                      :class=\"{ invisible: status.loadingItem !== item.id }\"\n                      style=\"top: 50%; left: 50%; transform: translate(-50%, -50%);\"\n                    >\n                      <div\n                        class=\"spinner-border spinner-border-sm text-danger\"\n                        role=\"status\"\n                      ></div>\n                    </div>\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n$quantity-btn-height: 30px;\n$quantity-btn-width: 30px;\n$quantity-wrap-width: 130px;\n\n.left-rounded,\n.right-rounded {\n  height: $quantity-btn-height;\n  width: $quantity-btn-width;\n}\n\n.quantity-wrap {\n  width: $quantity-wrap-width;\n}\n</style>\n\n<script>\nimport GappedDialog from '@/components/GappedDialog.vue';\n\nexport default {\n  data () {\n    return {\n      products: [],\n      product: {},\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n      cart: {},\n      coupon_code: '',\n    };\n  },\n  inject: ['pushMessage', 'isApiSuccess'],\n  components: {\n    GappedDialog,\n  },\n  methods: {\n    updateCart (item, quantity) {\n      const api = this.$api + `/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id;\n      const cart = {\n        product_id: item.product_id,\n        qty: quantity,\n      };\n      this.$http\n        .put(api, { data: cart })\n        .then(response => {\n          this.isLoading = false;\n          this.status.loadingItem = '';\n\n          if (!this.isApiSuccess(response, api)) return;\n\n          this.getCart();\n        })\n        .catch(error => {\n          console.error('Failed to update cart. ', error);\n        });\n    },\n    addToCart (id) {\n      this.status.loadingItem = id;\n      const api = this.$api + '/cart';\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http\n        .post(api, { data: cart })\n        .then(response => {\n          this.pushMessage(response, '加入購物車');\n          this.status.loadingItem = '';\n          this.getCart();\n        })\n        .catch(err => {\n          console.error('Add to cart error: ', err);\n        });\n    },\n    addCouponCode () {\n      const api = this.$api + '/coupon';\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http.post(api, { data: coupon }).then(response => {\n        this.getCart();\n        this.pushMessage(response, '套用優惠券');\n        this.isLoading = false;\n      });\n    },\n    removeCartItem (id) {\n      const api = this.$api + '/cart/' + id;\n      this.status.loadingItem = id;\n      this.isLoading = true;\n      this.$http.delete(api).then(response => {\n        this.status.loadingItem = '';\n        this.isLoading = false;\n        this.getCart();\n        this.pushMessage(response, '刪除購物車品項');\n      });\n    },\n    getProducts () {\n      const api = this.$api + '/products/all';\n      this.isLoading = true;\n      this.$http.get(api).then(response => {\n        this.isLoading = false;\n        this.products = response.data.products;\n      });\n    },\n    getCart () {\n      const api = this.$api + '/cart';\n      this.isLoading = true;\n      this.$http\n        .get(api)\n        .then(response => {\n          this.isLoading = false;\n\n          if (!this.isApiSuccess(response, api)) return;\n\n          this.cart = response.data.data;\n          console.log('測試: cart', this.cart);\n        })\n        .catch(error => {\n          console.error('ERROR! Cannot get cart data: ', error);\n        });\n    },\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    goToForm () {\n      this.$router.push('/user/form');\n    },\n  },\n  created () {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","<template>\n  <div class=\"gapped-dialog\">\n    <div class=\"dialog-left-part\"></div>\n    <div class=\"dialog-center-part\"></div>\n    <div class=\"dialog-right-part\"></div>\n    <div class=\"dialog-rotated-line\"></div>\n    <div class=\"dialog-text text-secondary\">CHECKOUT</div>\n  </div>\n</template>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<!-- When the stroke width is 2px or 3px, dialog-rotated-line: left: 30px; top:43px-->\n<style scoped lang=\"scss\">\n@import \"~@/assets/scss/helpers/variables\";\n\n$dialog-width: 180px;\n$dialog-height: 45px;\n$dialog-border-radius: 10px;\n$dialog-left-part-width: 40px;\n$dialog-right-part-width: 119px;\n\n$stroke-width: 3px;\n$rotated-line-border-radius: 1px;\n$dialog-frame-color: #b0b2e1;\n\n$dialog-rotated-line-height: 26px;\n$dialog-rotated-line-width: 10px;\n$dialog-rotated-line-left: 30px;\n$dialog-rotated-line-top: 43px;\n$dialog-rotated-line-roation: -45deg;\n\n.gapped-dialog {\n  display: flex;\n  width: $dialog-width;\n  position: relative;\n}\n\n.dialog-left-part {\n  border: $stroke-width solid $dialog-frame-color;\n  border-radius: $dialog-border-radius 0 0 $dialog-border-radius;\n  border-right: 0px solid transparent;\n  width: $dialog-left-part-width;\n  height: $dialog-height;\n}\n\n.dialog-center-part {\n  height: $dialog-height;\n  flex-grow: 1;\n  border-top: $stroke-width solid $dialog-frame-color;\n}\n\n.dialog-right-part {\n  border: $stroke-width solid $dialog-frame-color;\n  border-radius: 0 $dialog-border-radius $dialog-border-radius 0;\n  border-left: 0px solid transparent;\n  width: $dialog-right-part-width;\n  height: $dialog-height;\n}\n\n.dialog-rotated-line {\n  position: absolute;\n  border-right: $stroke-width solid $dialog-frame-color;\n  height: $dialog-rotated-line-height;\n  width: $dialog-rotated-line-width;\n  left: $dialog-rotated-line-left;\n  top: $dialog-rotated-line-top;\n  transform: rotate($dialog-rotated-line-roation);\n  transform-origin: top right;\n  border-radius: 0 $rotated-line-border-radius 0 0;\n}\n\n.dialog-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  letter-spacing: 2px;\n}\n</style>\n\n<script>\nexport default {\n  name: 'GappedDialog',\n  data () {\n    return {};\n  },\n};\n</script>\n","import { render } from \"./GappedDialog.vue?vue&type=template&id=506bf9b2&scoped=true\"\nimport script from \"./GappedDialog.vue?vue&type=script&lang=js\"\nexport * from \"./GappedDialog.vue?vue&type=script&lang=js\"\n\nimport \"./GappedDialog.vue?vue&type=style&index=0&id=506bf9b2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-506bf9b2\"\n\nexport default script","import { render } from \"./UserCart.vue?vue&type=template&id=4179bebc&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=4179bebc&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-4179bebc\"\n\nexport default script"],"sourceRoot":""}