{"version":3,"sources":["webpack:///./src/views/UserCheckout.vue","webpack:///./src/views/UserCheckout.vue?8e96","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","colspan","width","active","isLoading","payOrder","order","products","item","key","id","product","title","qty","unit","final_total","total","user","email","name","tel","address","is_paid","data","orderId","inject","methods","getOrder","api","this","$api","$http","get","then","response","isApiSuccess","catch","error","console","post","created","$route","params","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/chunk-f77e497a.92114a3f.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"my-5 row justify-content-center\">\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n      <table class=\"table align-middle\">\n        <thead>\n          <th>品名</th>\n          <th>數量</th>\n          <th>單價</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}/{{ item.product.unit }}</td>\n            <td class=\"text-end\">{{ item.final_total }}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"2\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ order.total }}</td>\n          </tr>\n        </tfoot>\n      </table>\n\n      <table class=\"table\">\n        <tbody>\n          <tr>\n            <th width=\"100\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>收件人電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>收件人地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>付款狀態</th>\n            <td>\n              <span v-if=\"!order.is_paid\">尚未付款</span>\n              <span v-else class=\"text-success\">付款完成</span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-end\" v-if=\"order.is_paid === false\">\n        <button class=\"btn btn-danger\">確認付款去</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  inject: ['isApiSuccess'],\n  methods: {\n    getOrder () {\n      const api = this.$api + '/order/' + this.orderId;\n      this.$http\n        .get(api)\n        .then(response => {\n          if (!this.isApiSuccess(response, api)) return;\n\n          this.order = response.data.order;\n        })\n        .catch(error => {\n          console.error('Failed to get order: ', error);\n        });\n    },\n    payOrder () {\n      const api = this.$api + '/pay/' + this.orderId;\n      this.$http\n        .post(api)\n        .then(response => {\n          this.getOrder();\n        })\n        .catch(error => {\n          console.error('Failed to pay order.', error);\n        });\n    },\n  },\n  created () {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=6f1fb8c0\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}